{% load static %}
{% load crispy_forms_tags %}
{% load blog_extras %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}EagleCollins{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="{% static 'images/logo.png' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglAI5V2N5f5N1c5gIAVcrRj0YDNMf5zGfH8ZsAxS2kFf2uC3nF1uXHgpU5aHVfkw=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<!-- Bootstrap JS (for alerts to close properly) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js">
</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<script src="{% static 'js/scroll_fix.js' %}"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
  <header class="bg-white shadow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <a href="/" class="flex items-center space-x-2">
        <img src="{% static 'images/logo.png' %}" alt="Logo" style="width: 100px; height: auto;" class="h-8 w-8">
          <span class="text-xl font-bold text-indigo-600"></span>
           {% include 'includes/navbar.html' %}
      </div>
    </div>
  </header>

  <!-- Main content with sidebar -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 grid grid-cols-1 lg:grid-cols-4 gap-8">
    <p class="card-text text-muted">{{ post.body|truncatewords:25 }}</p>    
    <!-- Main content block -->
    <div class="lg:col-span-3">
      {% block content %}{% endblock %}
    </div>  

  <!-- Scroll to Top Button -->
  <div class="relative group">
    <button id="scrollToTopBtn"
      class="hidden fixed bottom-6 right-6 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 z-50">
      â†‘
    </button>
    <span class="absolute -top-10 right-0 bg-gray-700 text-white text-sm px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300">
      Back to Top
    </span>
  </div>
<!-- Back to Top Button -->
<button id="backToTop" title="Back to Top">
  <i class="fas fa-arrow-up"></i>
</button>


<!-- Button Styles -->
<style>
  #backToTop {
    display: none;
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 999;
    font-size: 20px;
    border: none;
    outline: none;
    background-color: black;
    color: white;
    cursor: pointer;
    padding: 14px;
    border-radius: 50%;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    transition: background-color 0.3s, transform 0.3s;
  }

  #backToTop:hover {
    background-color: #222;
    transform: scale(1.1);
  }

  #backToTop i {
    pointer-events: none;
  }
</style>

<!-- Show/Hide Script -->
<script>
  window.addEventListener("scroll", function () {
    const button = document.getElementById("backToTop");
    button.style.display = window.scrollY > 100 ? "block" : "none";
  });

  document.addEventListener("DOMContentLoaded", function () {
    document.getElementById("backToTop").addEventListener("click", function () {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });
  });
</script>
  <!-- Footer -->
  <footer class="bg-indigo-600 text-white py-4 mt-12">
    <div class="text-center text-sm">
      &copy; {{ year|default:"2025" }} EagleCollins. All rights reserved.
    </div>
  </footer>
</body>
</html>
